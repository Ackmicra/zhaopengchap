package com.uranus.platform.business.jd.service.impl;

import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import com.uranus.platform.business.jd.entity.vo.JdRequestView;
import com.uranus.platform.business.jd.entity.vo.JdResponseView;
import com.uranus.platform.business.jd.service.JdLoanfileUploadService;
import com.uranus.platform.utils.jd.security.SignEnvelopServiceKey;

/**
 * @Describe HTTP文件上传测试类
 * @author  wangshuai0106@dhcc.com.cn
 * @Date 创建时间：2019年8月26日 下午5:58:40
 * 
 */
@SpringBootTest
public class JdLoanfileUploadServiceImplTest {
	@Autowired
    private SignEnvelopServiceKey signEnvelopServiceKey;
	@Autowired
	private JdLoanfileUploadService jdLoanfileUploadService;
	
	@Test
	void test() {
		String projNo = "2004101";
		String channelId = "2003";
		String bizContent = "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";
		//提取京东发送的业务数据
		String decryptDate = signEnvelopServiceKey.verifyEnvelop(bizContent);
		JdResponseView jdResponseView = jdLoanfileUploadService.requestFor2108(projNo,channelId,decryptDate);
		System.out.println(jdResponseView.toString());
		
	}
}
