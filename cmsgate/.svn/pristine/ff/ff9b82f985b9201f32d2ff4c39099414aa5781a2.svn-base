package com.uranus.platform.business.jd.service.impl;

import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import com.uranus.platform.business.jd.entity.vo.JdCallbackRequestView;
import com.uranus.platform.business.jd.entity.vo.JdResponseView;
import com.uranus.platform.business.jd.service.JdLoanApplyService;
import com.uranus.platform.utils.jd.security.SignEnvelopServiceKey;


/**
 * @Describe 贷款申请测试类
 * @author  wangshuai0106@dhcc.com.cn
 * @Date 创建时间：2019年8月26日 下午5:52:06
 * 
 */

@SpringBootTest
public class JdLoanApplyServiceImplTest {
	@Autowired
    private SignEnvelopServiceKey signEnvelopServiceKey;
	@Autowired
	private JdLoanApplyService jdLoanApplyService;
	
	
	@Test
	void test() {
		String projNo = "2004101";
		String channelId = "2003";
		//每次测试需更改bizContent加密数据中的合同号与申请号
		String bizContent = "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";
		//提取京东发送的业务数据
		String decryptDate = signEnvelopServiceKey.verifyEnvelop(bizContent);
		JdResponseView jdResponseView = jdLoanApplyService.applyFor2001(projNo,channelId,decryptDate);
		System.out.println(jdResponseView.toString());
		
//		String applicationNo = "001002003";
//		JdCallbackRequestView jdCallbackRequestView = jdLoanApplyService.applyFor2002(applicationNo);
//		System.out.println(jdCallbackRequestView.toString());
	}

}
